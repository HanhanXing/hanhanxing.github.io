---
layout: post
title: "浇花方案设计（数学和运筹学）"
date: 2024-07-10
categories: 
author:
- NPC毁灭者
- zhenhanxing@outlook.com
meta: 
---

> P人的烦恼：几盆植物怎么浇水比较无脑省力？在家闲着没事想想吧。

# 背景1.0
## 主要条件
- 我院子里有3株盆栽，从大到小分别是小椰子树、龙血树、蓝花楹
- 夏天：小椰子树每2天需要浇1L水
- 夏天：龙血树每7天（一周）需要浇1L水
- 夏天：蓝花楹每2天需要浇0.5L水
## 要求
- 设计一个针对**夏天**的浇花方案
## 目标
- 每个**周期**里**执行动作（浇水）**的天数越少越好
- 每个浇水周期固定**可循环**，也是方便懒惰的执行人（我）能养好花

# 方案1.0
## 最小公倍数
假设[`主要条件`](#主要条件)必须严格满足，我们可以使用最小公倍数的方法来确定一个最小的周期。  
理由：每个盆栽有自己的周期，它们加在一起就会有一个大的周期：我们需要找到这个周期，使得在这个周期内能够满足所有盆栽的浇水需求，且每个周期是固定的。
## 步骤
1. 确定每个植物的个人周期
    - 小椰子树：2天
    - 龙血树：7天
    - 蓝花楹：2天
2. 确定所有植物的共同周期
    - 求这些周期的最小公倍数
    - 2天和7天的最小公倍数是**14天**
3. 确定共同周期内各个植物的浇水次数
    - 小椰子树需要14天浇水7次（每2天1L）
    - 龙血树需要14天浇水2次（每7天1L）
    - 蓝花楹需要14天浇水7次（每2天0.5L）
4. 平均分配所需浇水次数到周期天数中...
## 计划表1.0

| 天数 | 小椰子树 | 龙血树 | 蓝花楹 | 总量（L） | 说明  |
| --- | --- | --- | --- | --- | --- |
| 第2天| 1| - | 0.5| 1.5| -| 
| 第4天| 1| -| 0.5| 1.5| -| 
| 第6天| 1| -| 0.5| 1.5| -| 
| 第7天| -| 1| -| 1.5| 龙血树单独浇水| 
| 第8天| 1| -| 0.5| 1.5| -| 
| 第10天| 1| -| 0.5| 1.5| -| 
| 第12天| 1| -| 0.5| 1.5| -| 
| 第14天| 1| 1| 0.5| 2.5| 今天浇水任务重| 


## 总结
14天为一个周期，每周期执行浇水动作**8天**。中间还因为龙血树的特殊，第7天要记得**单独**给它浇水。
而且会出现：前一周“二四六-日”，下一周就得是“一三五-日”，这样的**混乱**局面。  
考虑：增加条件再做优化。

# 背景2.0
## 追加条件
- 浇水的时间间隔允许浮动
- 浇水量可随着浇水时间间隔而调整
- 每次浇水的总量尽量低（我只有一个1L的水壶，来回挑水很累）

# 方案2.0
## 暴力的运筹，资源分配
- **短轴任务**：小椰子树和蓝花楹每2天浇水一次，在允许浮动的情况下，可以提前1天或推迟1天，从而分散浇水的天数和浇水量。例如，某天浇水的量减少，某天浇水的量增加。
- **长轴任务**：龙血树每7天浇水一次，即使允许浮动，依旧选择按计划浇水，保持稳定。
## 计划表2.0

天数 | 小椰子树 | 龙血树 | 蓝花楹 | 总量（L） | 说明
--- | --- | --- | --- | --- | ---
第2天| 1 | - | 0.5 | 1.5 | 按计划浇水
第5天| 1.5 | - | 0.75 | 2 | 小椰子树推迟1天，蓝花楹推迟1天
第7天| 1.5 | 1 | - | 0.75 | 龙血树计划，椰子树推迟1天，蓝花楹推迟1天
第9天| 1.5 | - | 0.75 | 2.25 | 椰子树推迟1天，蓝花楹推迟1天
第12天| 1.5 | - | 1 | 2 | 小椰子树推迟2天，蓝花楹推迟2天
第14天 | 1 | 1 | 0.5 | 2.5 | 按计划浇水

## 总结
优化分析：  
通过浮动浇水时间，我们**大大减少**了执行动作的总天数，看似提高了管理便利性，但实际上日期间隔**更混乱**，难以确保执行。  
这种方法只确保植物在既定周期内吸水的**数值**满足，忽略了植物的**实际生理需求**。一次浇水过多，植物吸收不了，且增加泡根风险，甚至水会溢出来，反而增加我打扫卫生的工作量。

# 背景3.0
## 追加条件
- 既然14天是正好2周，那我们能不能把这个方案压缩成一个“**周计划**”（**方便记忆和执行**）
- 活体植物具有适应性，周期内的浇水量允许浮动
- 每次浇水量限制在2L以内（确保不涝，不溢出，减轻每次工作量）

# 方案3.0
## 合理的运筹，资源分配的优化
- **短轴任务**：小椰子和蓝花楹固定在“一三五七”，但是“七”和“一”之间的循环形成**提前浇水**的局势，对应减量
- **长轴任务**：龙血树保持稳定，考虑**拆分**成短轴任务，合理利用**提前浇水**可以减少水量的机制
## 计划表3.0

天数 | 小椰子树 | 龙血树 | 蓝花楹 | 总量（L） | 说明  
---- | ------ | ----- | ----- | -------- | ---  
周一  | 0.75   | - | 0.25 | 1 | 椰子和蓝花楹2天连续浇水，周一正好减工作量  
周二  |        |  |  |  | 无事发生  
周三  | 1      |  | 0.5 | 1.5 | 按计划浇水  
周四  |        |  |  |  | 无事发生  
周五  | 1      | 0.5 | 0.5 | 2.0 | 按计划浇水，龙血树提前浇水  
周六  |        |  |  |  | 无事发生  
周日  | 1      | 0.5 | 0.5 | 2.0 | 按计划浇水  

## 总结
1. 优化分析
- 小椰子树：每周4次。浇水量在1L上下浮动，14天周期内7.5L比原计划多0.5L，正好符合热带植物爱喝水的特性。

- 龙血树：每周2次，每次0.5L，使得总量为1L，14天周期内正好达到2L的标准值。周五和周日分摊浇水，减轻累积到1天的工作量。

- 蓝花楹：每周4次。每次0.5L，其中周一只给0.25L，总共1.75L，14天周期内正好达到3.5L的标准值。

2. 优化结果
- **缺点**：执行动作的次数**并没有减少**（14天周期内依旧是8天，一周浇水4天）。

- **优点**：“一三五七”非常好记，即使忙着上班也不会忘记当天要浇水。每次浇水量不超过2L，即工作量很轻，甚至还在周一“**减负**”到了1L。

